// ################################################################ //
// ############################  TYPES  ########################### //
// ################################################################ //

const SET_COINS = 'set/COINS';

// ################################################################## //
// ############################  ACTIONS  ########################### //
// ################################################################## //

const setCoins = coins => ({
	type: SET_COINS,
	coins,
});

// ################################################################# //
// ############################  THUNKS  ########################### //
// ################################################################# //

export const getCoins = () => async dispatch => {
	const response = await fetch(`/api/coins/`);
	const data = await response.json();

	if (data.errors) {
		return;
	}
	dispatch(setCoins(data.coins));
};

// ################################################################### //
// ############################  REDUCERS  ########################### //
// ################################################################### //

const initialState = {};

export default function coinReducer(state = initialState, action) {
	let newState;
	switch (action.type) {
		case SET_COINS:
			newState = { ...state, ...action.coins };
			return newState;
	}
}
